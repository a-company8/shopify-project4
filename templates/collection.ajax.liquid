{% layout none %}
<!-- Products loaded via AJAX -->
{% paginate collection.products by 4 %}  <!-- You can adjust the limit here if needed -->
  {% for product in collection.products limit: section.settings.products_per_row %}
    <div class="product-card" data-product-id="{{ product.id }}">
      <a href="{{ product.url }}">
        <img src="{{ product.featured_image | img_url: 'medium' }}" alt="{{ product.title }}">
        <h3>{{ product.title }}</h3>
        <p class="product-price">{{ product.price | money }}</p>
      </a>
      <button class="add-to-cart-btn" data-product-id="{{ product.title | handle}}">Add to Cart</button>
    </div>
  {% endfor %}
{% endpaginate %}
